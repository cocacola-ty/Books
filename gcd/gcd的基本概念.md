# GCD基本概念

## 什么是GCD

## 线程之间通信方式
 
## 同步、异步、并发、串行的概念

### 同步是什么意思

```
	dispatch_sync(){}
```

同步操作的意思是该操作会阻塞当前线程，也就是当前的线程会等待这个block中的任务执行完之后再继续向下执行。

同步操作和线程之间的关系

同步操作不会和线程有必然关系，即不会强制要求必须由当前线程去执行这个任务。不过由于操作系统的优化，一般都会由当前线程去从队列中取这个任务来执行。所以看上去同步操作不会切换线程。

### 异步是什么意思

```
	dispatch_async(){}
```

异步操作的意思是当前线程将block这个任务提交到指定队列之后就继续向下执行后面的操作，不用等待这个任务的完成。

### 串行队列和并发队列

串行队列的特点是一定要等待上面的任务**执行完毕**之后才会执行下一个任务。所以串行队列的使用场景是当出现资源竞争的时候就需要使用串行队列来解决。

而并发队列的特点是一旦上面的任务**开始执行**，则就可以执行下一个任务。

### 获取队列的方式

## 同步一定是在当前线程执行吗

## 串行队列一定是只有一条线程去执行这个队列中的任务吗

**不是**

队列和线程并没有绑定关系。是由系统来调度线程去队列中取任务去执行。

如下示例代码所示 

```

- (void)viewDidLoad {
    [super viewDidLoad];
    dispatch_queue_t queue = dispatch_queue_create("custom_queue", DISPATCH_QUEUE_SERIAL);
    
    dispatch_async(queue, ^{
        NSLog(@"异步向串行队列中添加的任务 %@", [NSThread currentThread]);
    });
    
    dispatch_sync(queue, ^{
        NSLog(@"同步向串行队列中添加的任务开始执行");
        sleep(3);
        NSLog(@"同步向串行队列中添加的任务执行完毕 %@", [NSThread currentThread]);
    });
    
    NSLog(@"主线程执行");
    
}
```

输出结果

```

	>>> 异步向串行队列中添加的任务 <NSThread: 0x6000033caf00>{number = 3, name = (null)}

	>>> 同步向串行队列中添加的任务开始执行

	>>> 同步向串行队列中添加的任务务执行完毕 <NSThread: 0x6000033953c0>{number = 1, name = main}

	>>> 主线程执行

```

可以看到如上结果所示，在串行队列`queue`中的任务并不是只有一条线程来执行。

